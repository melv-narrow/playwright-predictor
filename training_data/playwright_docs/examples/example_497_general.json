{
  "language": "javascript",
  "code": "import { defineConfig } from '@playwright/test';  \nexport default defineConfig({  \n  retries: process.env.CI ? 2 : 0, // set to 2 when running on CI  \n  // ...  \n  use: {  \n    trace: 'on-first-retry', // record traces on first retry of each test  \n  },  \n});",
  "context": "By default the [playwright.config](/docs/trace-viewer#recording-a-trace-on-ci) file will contain the configuration needed to create a `trace.zip` file for each test. Traces are setup to run `on-first-retry` meaning they will be run on the first retry of a failed test. Also `retries` are set to 2 when running on CI and 0 locally. This means the traces will be recorded on the first retry of a failed test but not on the first run and not on the second retry. | playwright.config.ts",
  "source_url": "https://playwright.dev/docs/trace-viewer-intro",
  "pattern": "general"
}