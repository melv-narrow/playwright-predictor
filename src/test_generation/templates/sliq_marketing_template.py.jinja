"""
Test suite for Sliq Marketing Website

Generated by AI Test Generator
Timestamp: {{ timestamp }}
"""

import pytest
from playwright.sync_api import Page, expect

@pytest.fixture
def base_url():
    """Base URL for Sliq Marketing website"""
    return "{{ base_url }}"

def test_homepage_loads(page: Page, base_url):
    """Test that homepage loads successfully"""
    # Navigate to homepage
    page.goto(base_url)
    
    # Verify main elements are visible
    expect(page.locator(".navbar")).to_be_visible()
    expect(page.locator(".hero-section")).to_be_visible()
    expect(page.locator("footer")).to_be_visible()
    
    # Save screenshot
    page.screenshot(path="test-results/homepage_load.png")

def test_navigation_menu(page: Page, base_url):
    """Test navigation menu functionality"""
    # Navigate to homepage
    page.goto(base_url)
    
    # Check each navigation item
    {% for item in navigation_items %}
    expect(page.get_by_text("{{ item }}")).to_be_visible()
    {% endfor %}

def test_mobile_menu(page: Page, base_url):
    """Test mobile menu functionality"""
    # Set viewport to mobile size
    page.set_viewport_size({"width": 375, "height": 812})
    
    # Navigate to homepage
    page.goto(base_url)
    
    # Open mobile menu
    page.click(".mobile-menu-button")
    
    # Verify mobile menu items
    {% for item in navigation_items %}
    expect(page.get_by_text("{{ item }}")).to_be_visible()
    {% endfor %}
    
    # Close mobile menu
    page.click(".mobile-menu-close")

def test_services_section(page: Page, base_url):
    """Test services section functionality"""
    # Navigate to homepage
    page.goto(base_url)
    
    # Check each service category
    {% for service in service_categories %}
    expect(page.get_by_text("{{ service }}")).to_be_visible()
    {% endfor %}

def test_contact_form(page: Page, base_url):
    """Test contact form functionality"""
    # Navigate to contact page
    page.goto(base_url + "/contact")
    
    # Fill out contact form
    {% for field in contact_form_elements %}
    {% if field.type == "text" %}
    page.fill("{{ field.selector }}", "Test User")
    {% elif field.type == "email" %}
    page.fill("{{ field.selector }}", "test@example.com")
    {% elif field.type == "tel" %}
    page.fill("{{ field.selector }}", "+1234567890")
    {% elif field.type == "textarea" %}
    page.fill("{{ field.selector }}", "Test message")
    {% endif %}
    {% endfor %}
    
    # Submit form
    page.click("button[type='submit']")
    
    # Verify success message
    expect(page.locator(".form-success")).to_be_visible()
    
    # Save screenshot
    page.screenshot(path="test-results/contact_form_success.png")

{% if has_blog %}
def test_blog_section(page: Page, base_url):
    """Test blog section functionality"""
    # Navigate to blog page
    page.goto(base_url + "/blog")
    
    # Verify blog elements
    expect(page.locator(".blog-posts")).to_be_visible()
    expect(page.locator(".blog-post")).to_be_visible()
    
    # Click first blog post
    page.click(".blog-post")
    
    # Verify blog post content
    expect(page.locator(".post-content")).to_be_visible()
    expect(page.locator(".post-title")).to_be_visible()
    
    # Save screenshot
    page.screenshot(path="test-results/blog_post.png")
{% endif %}

{% if has_testimonials %}
def test_testimonials_section(page: Page, base_url):
    """Test testimonials section functionality"""
    # Navigate to homepage
    page.goto(base_url)
    
    # Verify testimonials section
    expect(page.locator(".testimonials")).to_be_visible()
    expect(page.locator(".testimonial")).to_be_visible()
    
    # Save screenshot
    page.screenshot(path="test-results/testimonials.png")
{% endif %}

{% if has_portfolio %}
def test_portfolio_section(page: Page, base_url):
    """Test portfolio section functionality"""
    # Navigate to portfolio page
    page.goto(base_url + "/portfolio")
    
    # Verify portfolio elements
    expect(page.locator(".portfolio-grid")).to_be_visible()
    expect(page.locator(".portfolio-item")).to_be_visible()
    
    # Click first portfolio item
    page.click(".portfolio-item")
    
    # Verify portfolio item details
    expect(page.locator(".portfolio-details")).to_be_visible()
    expect(page.locator(".project-title")).to_be_visible()
    
    # Save screenshot
    page.screenshot(path="test-results/portfolio_item.png")
{% endif %}

def test_responsive_design(page: Page, base_url):
    """Test responsive design at different viewport sizes"""
    # Test mobile viewport
    page.set_viewport_size({"width": 375, "height": 812})
    page.goto(base_url)
    page.screenshot(path="test-results/mobile_viewport.png")
    
    # Test tablet viewport
    page.set_viewport_size({"width": 768, "height": 1024})
    page.goto(base_url)
    page.screenshot(path="test-results/tablet_viewport.png")
    
    # Test desktop viewport
    page.set_viewport_size({"width": 1440, "height": 900})
    page.goto(base_url)
    page.screenshot(path="test-results/desktop_viewport.png")

def test_get_started_cta(page: Page, base_url):
    """Test Get Started CTA functionality"""
    # Navigate to homepage
    page.goto(base_url)
    
    # Click Get Started button
    page.click("text=Get Started")
    
    # Verify redirect to contact form
    expect(page.url).to_contain("/contact")
    expect(page.locator("form")).to_be_visible()
    
    # Save screenshot
    page.screenshot(path="test-results/get_started_cta.png")
